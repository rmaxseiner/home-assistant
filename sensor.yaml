  - platform: template
    sensors:
      smoke_upstairs_status:
          friendly_name: 'Smoke Upstairs Status'
          value_template: >-
            {% if is_state("sensor.first_alert_upstairs_alarm_level", "255") and is_state("sensor.first_alert_upstairs_alarm_type", "1")%}
              smoke
            {% elif is_state("sensor.first_alert_upstairs_alarm_level", "255") and is_state("sensor.first_alert_upstairs_alarm_type", "2")%}
              co
            {% else %}
              idle
            {% endif %}
          icon_template: >-
            {% if is_state("sensor.first_alert_upstairs_alarm_level", "255") and is_state("sensor.first_alert_upstairs_alarm_type", "1")%}
              mdi:fire
            {% elif is_state("sensor.first_alert_upstairs_alarm_level", "255") and is_state("sensor.first_alert_upstairs_alarm_type", "2")%}
              mdi:cloud-outline
            {% else %}
              mdi:smoke-detector
            {% endif %}